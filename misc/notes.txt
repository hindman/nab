--------
TODO
--------

Hooks:

    - Parse CLI args.
        - No need for hooks.

    - FOO_begin():
        - Each Step can configure itself.
        - This includes the ability to define its other hooks dynamically.

    - FOO_discover():
        - A Step can return a new list of paths to be used.
        - Can also return a list of pairs: (INPUT_PATH, OUTPUT_PATH).
        - In that case, the output will go to separate files.
        - And if the paths are equal, the original file will be overwritten.

    - Running loop:
        - FOO_file_begin() # Before a path is opened.
        - FOO_run()        # Process one value.
        - FOO_file_end()   # After a file is closed.

    - FOO_end():
        - Emit or persist overall results.

Refactor to use a class-based approach.

    - Basic structure.

        class Step(object):
            ...

        class Range(Step):
            NAME = '...'
            DESC = '...'
            OPTS = [...]

            def begin(self, opts):
                ...

            def run(self, ln, opts):
                return ...

            def end(self, opts):
                ...

    - Benefits:

        - Some namespacing and code layout benefits: easier to define multiple
        steps in one file.

        - More extensible when adding new features.

        - Steps can inherit from each other.

        - Provides a scope for step-writers to persist information.

Bug:

    - This should (wr)ite twice and (pr)int once. But wr occurs just 1 time.
    - See TODO notes where the problem lies.

    ll . | nab -a split '\s+' -a head 12 -a range 1 7 2 -a wr -a wr -a index 0 -a pr


Step docs.

Better --help: show step docs.

Some tests.

More steps:
    cols
    wrap
    flip-flop
    filename
    linenumber
    tail
    dive

Support leading-dot syntax:

    m .skip 1 .head 12 .findall '\d+' .str .nl

--------
Misc notes
--------

Project name considered:

    nab      | ####
    ax       | .
    pipework | .
    psa      | Python, sed, awk.
    rif      | Short for rifle.
    riff     | Short for riffle.
    saw      | .
    yank     | .

